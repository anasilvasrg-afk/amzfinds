---
export interface Props {
  title: string;
  description: string;
  image?: string;
  url?: string;
}

const { title, description, image = '', url = '' } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{title}</title>
  <meta name="description" content={description}>
  
  <!-- Open Graph / Pinterest -->
  <meta property="og:type" content="website">
  <meta property="og:title" content={title}>
  <meta property="og:description" content={description}>
  <meta property="og:image" content={image}>
  <meta property="og:url" content={url}>
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content={title}>
  <meta name="twitter:description" content={description}>
  <meta name="twitter:image" content={image}>
  
  <!-- Preconnect for faster loading -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://firebasestorage.googleapis.com" crossorigin>
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&family=Playfair+Display:wght@400;500&display=swap" rel="stylesheet">
  
  <!-- Tailwind CDN for simplicity -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <style>
    body { font-family: 'Inter', sans-serif; }
    
    .masonry-grid { 
      column-count: 2; 
      column-gap: 0.75rem; 
    }
    @media (min-width: 640px) { .masonry-grid { column-count: 3; column-gap: 0.75rem; } }
    @media (min-width: 1024px) { .masonry-grid { column-count: 4; column-gap: 1rem; } }
    @media (min-width: 1280px) { .masonry-grid { column-count: 5; column-gap: 1rem; } }
    
    .masonry-item { 
      break-inside: avoid; 
      margin-bottom: 0.5rem; 
    }
    @media (min-width: 1024px) { .masonry-item { margin-bottom: 0.75rem; } }
    
    .masonry-item img {
      width: 100%;
      aspect-ratio: 2/3;
      object-fit: cover;
      border-radius: 0.5rem;
    }
    
    .line-clamp-2 { 
      display: -webkit-box; 
      -webkit-line-clamp: 2; 
      -webkit-box-orient: vertical; 
      overflow: hidden; 
    }
    
    .style-notes { font-family: 'Playfair Display', serif; }
    
    /* Dark mode */
    .dark { background-color: #1a1a1a; color: #e5e5e5; }
    .dark header { background-color: #1a1a1a; border-color: #333; }
    .dark .bg-white { background-color: #1a1a1a; }
    .dark .bg-stone-50 { background-color: #262626; }
    .dark .bg-stone-100 { background-color: #333; }
    .dark .text-stone-700 { color: #d4d4d4; }
    .dark .text-stone-800 { color: #e5e5e5; }
    .dark .text-stone-600 { color: #a3a3a3; }
    .dark .text-stone-500 { color: #a3a3a3; }
    .dark .border-stone-200 { border-color: #404040; }
    .dark .hover\:bg-stone-200:hover { background-color: #404040; }
    .dark .hover\:bg-stone-100:hover { background-color: #333; }
  </style>
</head>
<body class="bg-white min-h-screen">
  <slot />
  
  <script>
    // Dark mode toggle
    const darkMode = localStorage.getItem('darkMode') === 'true';
    if (darkMode) document.body.classList.add('dark');
    
    window.toggleDarkMode = function() {
      document.body.classList.toggle('dark');
      localStorage.setItem('darkMode', document.body.classList.contains('dark'));
    }
    
    // Analytics tracking (simple version)
    window.trackEvent = function(eventName, data = {}) {
      console.log('Analytics:', eventName, data);
      // Can add Google Analytics or other tracking here
    }
  </script>
</body>
</html>
